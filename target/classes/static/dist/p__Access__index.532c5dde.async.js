"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[755],{12542:function(O,r,e){var E=e(48305),t=e.n(E),l=e(75271),i=e(48049),s=e(3403),c=e(30915),f=e(72787),a=e(52676),g=function(m){var v=m.onChange,n=m.initialValue,C=(0,l.useState)(!1),M=t()(C,2),p=M[0],P=M[1],U=(0,l.useState)((n==null?void 0:n.filePath)||""),D=t()(U,2),u=D[0],h=D[1];(0,l.useEffect)(function(){n&&h(n.filePath)},[n]);var j=function(_){var o=_.type.startsWith("image/");o||i.ZP.error("\u53EA\u80FD\u4E0A\u4F20\u56FE\u7247\u6587\u4EF6!");var d=_.size/1024/1024<2;return d||i.ZP.error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC72MB!"),o&&d},B=function(_){if(_.file.status==="uploading"){P(!0);return}if(_.file.status==="done"){var o=_.file.response,d=o.code,A=o.data;d===2e4&&(h(A),v==null||v(A)),P(!1)}else _.file.status==="error"&&(i.ZP.error("".concat(_.file.name," \u4E0A\u4F20\u5931\u8D25")),P(!1))},T=(0,a.jsxs)("div",{children:[p?(0,a.jsx)(c.Z,{}):(0,a.jsx)(f.Z,{}),(0,a.jsx)("div",{style:{marginTop:8},children:"\u4E0A\u4F20"})]});return(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{name:"file",listType:"picture-card",className:"file-uploader",showUploadList:!1,action:"/upload/image",beforeUpload:j,onChange:B,children:u?(0,a.jsx)("img",{src:"/"+u,alt:"avatar",style:{width:"100%"}}):T}),u&&(0,a.jsx)("div",{style:{marginTop:8},children:(0,a.jsxs)("div",{children:["\u8BBF\u95EE\u8DEF\u5F84: ",u]})})]})};r.Z=g},90794:function(O,r,e){e.r(r);var E=e(99505),t=e(26118),l=e(73694),i=e(12542),s=e(52676),c=function(){var a=(0,t.useAccess)();return(0,s.jsxs)(E._z,{ghost:!0,header:{title:"\u6743\u9650\u793A\u4F8B"},children:[(0,s.jsx)(t.Access,{accessible:a.canSeeAdmin,children:(0,s.jsx)(l.ZP,{children:"\u53EA\u6709 Admin \u53EF\u4EE5\u770B\u5230\u8FD9\u4E2A\u6309\u94AE"})}),(0,s.jsx)(i.Z,{})]})};r.default=c}}]);
